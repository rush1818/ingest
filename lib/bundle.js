!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(1),a=n(o),r=i(5),s=void 0,l=void 0,u=void 0,c=void 0;document.addEventListener("DOMContentLoaded",function(){u=$(".reset-game"),c=$(".pause-game");var e=document.getElementById("canvas");e.height=r.GameDims.height,e.width=r.GameDims.width,l=e.getContext("2d");var t=3;$("body").keydown(function(e){if(s||13!==e.keyCode||((0,r.hideIntroModal)(),setTimeout(function(){s=new a["default"](l),s.start(),f()},1e3)),s&&13===e.keyCode&&(s.inPlay||((0,r.hideModal)(),s=new a["default"](l),s.start()),s.inPlay&&s.game.gameWon)){(0,r.hideLevelModal)();var i=s.level+1;i=i>t?t:i,s=new a["default"](l,i),s.start()}})});var f=function(){$(".game-controls").addClass("visible"),$(".footer-content").addClass("visible"),u.click(function(e){s.paused=!0,(0,r.hideModal)(),(0,r.hideLevelModal)(),s=new a["default"](l),s.start()}),c.click(function(e){s.paused?(e.target.innerText="Pause Game",s.resume()):(e.target.innerText="Resume Game",s.pause())})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(2),s=n(r),l=i(5),u=void 0,c=function(){function e(t){var i=arguments.length<=1||void 0===arguments[1]?1:arguments[1];o(this,e),this.level=i,this.ctx=t,this.lastTime=0,this.inPlay=!1,this.paused=!1,this.frameId=null}return a(e,[{key:"start",value:function(){this.inPlay=!0,this.game=new s["default"](this.ctx,this.level),this.game.bindKeyHandlers(),this.animate(0)}},{key:"pause",value:function(){this.paused=!0,window.cancelAnimationFrame(this.frameId)}},{key:"resume",value:function(){this.paused=!1,this.animate(u+this.lastTime)}},{key:"animate",value:function(e){var t=this;this.paused||(this.game.gameWon||this.game.gameOver?this.game.gameOver?(this.inPlay=!1,(0,l.showModal)()):this.game.gameWon&&(0,l.showLevelModal)():!function(){u=(e-t.lastTime)/20,u=u>1?1:u,t.lastTime=e,t.game.moveBall(u),t.game.moveEvils(u),t.game.render();var i=t;t.frameId=window.requestAnimationFrame(function(e){i.animate(e)})}())}}]),e}();t["default"]=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(3),l=n(s),u=i(5),c=i(6),f=n(c),h=function(){var e=[-.5,-.25,-.1,.1,.25,.5],t=e[Math.floor(Math.random()*e.length)];return(0,u.randomVector)(t)},d=function(){var e=Math.floor(Math.random()*(u.GameDims.x+u.GameDims.width)),t=Math.floor(Math.random()*(u.GameDims.y+u.GameDims.height));return[e,t]},v=function(){function e(t){var i=arguments.length<=1||void 0===arguments[1]?1:arguments[1];a(this,e),this.level=i,this.ctx=t,this.ball=new l["default"]({position:[].concat(o(u.BallPos[1]))}),this.evils=[],this.setupEvil(),this.gameWon=!1,this.gameOver=!1}return r(e,[{key:"render",value:function(){var e=this;this.ctx.fillStyle="#cdcdcd",this.ctx.fillRect(u.GameDims.x,u.GameDims.y,u.GameDims.width,u.GameDims.height),this.ball.draw(this.ctx),this.evils.forEach(function(t){return t.draw(e.ctx)}),this.eatEvil(),this.checkWin()}},{key:"checkWin",value:function(){this.evils.length||(this.gameWon=!0)}},{key:"eatEvil",value:function(){var e=this;this.evils.forEach(function(t,i){t.isCollidedWith(e.ball)&&(t.radius<=e.ball.radius?(e.remove(t),e.ball.radius+=t.radius):e.gameOver=!0)})}},{key:"setupEvil",value:function(){console.log(" setup for level: "+this.level);for(var e={1:[20,5,5,3,2],2:[10,15,20,6,4],3:[10,10,25,10,8]},t=e[this.level],i=0;i<t[0];)this.evils.push(new f["default"]({position:[].concat(o(d())),radius:1.5,vel:[].concat(o(h()))})),i++;for(i=0;i<t[1];)this.evils.push(new f["default"]({position:[].concat(o(d())),radius:2.5,vel:[].concat(o(h()))})),i++;for(i=0;i<t[2];)this.evils.push(new f["default"]({position:[].concat(o(d())),radius:10,vel:[].concat(o(h()))})),i++;for(i=0;i<t[3];)this.evils.push(new f["default"]({position:[].concat(o(d())),radius:20,vel:[].concat(o(h()))})),i++;for(i=0;i<t[4];)this.evils.push(new f["default"]({position:[].concat(o(d())),radius:30,vel:[].concat(o(h()))})),i++}},{key:"moveBall",value:function(e){this.ball.move(e)}},{key:"moveEvils",value:function(e){this.evils.forEach(function(t){t.move(e)})}},{key:"remove",value:function(e){var t=this.evils.indexOf(e),i=this.evils.slice(0,t),n=this.evils.slice(t+1);this.evils=[].concat(o(i),o(n))}},{key:"bindKeyHandlers",value:function(){var e=this;key("up",function(){e.ball.power([0,-1])}),key("w",function(){e.ball.power([0,-1])}),key("left",function(){e.ball.power([-1,0])}),key("a",function(){e.ball.power([-1,0])}),key("down",function(){e.ball.power([0,1])}),key("s",function(){e.ball.power([0,1])}),key("right",function(){e.ball.power([1,0])}),key("d",function(){e.ball.power([1,0])})}}]),e}();t["default"]=v},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(4),c=n(u),f=i(5),h="white",d=5,v=[0,0],m=function(e){function t(e){a(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{pos:[].concat(o(e.position)),color:h,radius:d,vel:[].concat(v)}));return i.COLOR=h,i.RADIUS=d,i.vel=[].concat(v),i}return s(t,e),l(t,[{key:"draw",value:function(e){var t=this.pos[0]-this.radius,i=this.pos[0]+this.radius,n=this.pos[1]-this.radius,o=(this.pos[1]+this.radius,e.createLinearGradient(t,n,i,n));o.addColorStop(0,"gray"),o.addColorStop(.5,"#3c09fa"),o.addColorStop(1,"gray"),e.fillStyle="red",e.beginPath(),e.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!1),e.fill()}},{key:"move",value:function(e){c["default"].prototype.move.call(this,e),this.vel[0]*=.96,this.vel[1]*=.96}},{key:"power",value:function(e){var t=this.vel[0]+e[0],i=this.vel[1]+e[0];(0,f.Norm)([t,i]);this.vel[0]+=e[0],this.vel[1]+=e[1]}}]),t}(c["default"]);t["default"]=m},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(5),r=function(){function e(t){n(this,e),this.pos=t.pos,this.vel=t.vel,this.radius=t.radius,this.color=t.color}return o(e,[{key:"draw",value:function(e){e.fillStyle=this.color,e.beginPath(),e.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!1),e.fill()}},{key:"move",value:function(e){this.pos[0]+=this.vel[0]*e,this.pos[1]+=this.vel[1]*e,this.pos[0]>a.GameDims.x+a.GameDims.width&&(this.pos[0]=0),this.pos[0]<a.GameDims.x&&(this.pos[0]=a.GameDims.x+a.GameDims.width),this.pos[1]>a.GameDims.y+a.GameDims.height&&(this.pos[1]=0),this.pos[1]<a.GameDims.y&&(this.pos[1]=a.GameDims.y+a.GameDims.height)}},{key:"isCollidedWith",value:function(e){return(0,a.Dist)(this.pos,e.pos)<=parseInt(this.radius)+parseInt(e.radius)}}]),e}();t["default"]=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var i=[],n=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(l){o=!0,a=l}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=t.windowH=window.innerHeight-100,o=t.windowW=window.innerWidth,a=t.Dist=function(e,t){var i=parseInt(e[0])-parseInt(t[0]),n=parseInt(e[1])-parseInt(t[1]);return Math.sqrt(i*i+n*n)},r=(t.Norm=function(e){var t=i(e,2),n=t[0],o=t[1];return a([0,0],[n,o])},t.GameDims={x:0,y:0,width:1*o,height:1*n});t.BallPos={1:[r.width/2,r.height/2]},t.randomVector=function(e){var t=Math.random()*e,i=Math.sqrt(e*e-t*t);return[t,i]},t.showModal=function(){$("#game-over-modal").removeClass("is-closed"),$("#game-over-modal").addClass("is-active")},t.hideModal=function(){$("#game-over-modal").addClass("is-closed"),setTimeout(function(){$("#game-over-modal").removeClass("is-active")},1001)},t.hideIntroModal=function(){$("#intro-modal").addClass("is-closed"),setTimeout(function(){$("#intro-modal").removeClass("is-active")},1001)},t.showLevelModal=function(){$("#new-level-modal").removeClass("is-closed"),$("#new-level-modal").addClass("is-active")},t.hideLevelModal=function(){$("#new-level-modal").addClass("is-closed"),setTimeout(function(){$("#new-level-modal").removeClass("is-active")},1001)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=i(4),u=n(l),c=(i(5),"black"),f=function(e){function t(e){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{pos:[].concat(o(e.position)),color:c,radius:e.radius,vel:[].concat(o(e.vel))}))}return s(t,e),t}(u["default"]);t["default"]=f}]);
//# sourceMappingURL=bundle.js.map